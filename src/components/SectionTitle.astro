---
import { Img } from 'astro-imagetools/components';
const {
    title = "",
    subTitle,
    subTitleImage,
} = Astro.props
---
<div class="container inview-target">
    <p class="subtitle">
        <Img src={subTitleImage} format="webp" placeholder="none" alt={subTitle}/>
    </p>
    <h2 class="title">
        <slot />
    </h2>
</div>
<style>
    .container {
        width: var(--content-width);
        margin: 0 auto 40px;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 8px;
        text-align: center;
    }
    .subtitle {
        position: relative;
        height: 64px;
        z-index: 0;
        opacity: 0;
    }
    .subtitle::before {
        content: "";
        position: absolute;
        inset: 0 0 11px;
        border-radius: 1000px;
        box-shadow: var(--shadow-primary-medium);
        z-index: -1;
    }
    .subtitle :global(img) {
        width: auto;
        height: 100%!important;
        margin: 0 auto;
    }
    .title {
        font-size: 48px;
    }
    :global(.is-inview) .subtitle {
        animation: subtitle-show 0.75s 0s both 1 normal ease-in-out;
    }
    @keyframes subtitle-show {
        0% {
            opacity: 0;
            transform: scale(0.75);
            transform-origin: 50% 100%;
        }
        50% {
            opacity: 1;
            transform: scale(1.05);
        }
        100% {
            opacity: 1;
            transform: scale(1);
            transform-origin: 50% 100%;
        }
    }
</style>